CREATE DATABASE HairSalon;
USE HairSalon;
CREATE TABLE Customer
(
    fname varchar(20),
    lname varchar(20),
    email varchar(40),
    user_name varchar(15),
    password varchar(15),
    isadmin boolean,
    PRIMARY KEY (user_name)
);

CREATE TABLE Styles
(
    style_name varchar(20),
    duration integer,
    rates integer,
    PRIMARY KEY (style_name)
);

CREATE TABLE Stylists
(
    stylist_name varchar(20),
    ratings integer,
    PRIMARY KEY (stylist_name)
);

CREATE TABLE CustomerBooking
(
   booking_id varchar(40),
   user_name varchar(15),
   stylist_name varchar(20),
   style_name varchar(20),
   booking_date varchar(150),
   stylist_rating integer,
   PRIMARY KEY (booking_id),
   FOREIGN KEY (user_name) REFERENCES Customer(user_name),
   FOREIGN KEY (stylist_name) REFERENCES Stylists(stylist_name),
   FOREIGN KEY (style_name) REFERENCES Styles(style_name)
);

CREATE TABLE AvgRating
(
    stylist_name varchar(20),
    avg_rating integer,
    FOREIGN KEY (stylist_name) REFERENCES Stylists(stylist_name)
);

CREATE TABLE LoginSession
(
    user_name varchar(15),
    PRIMARY KEY(user_name),
    FOREIGN KEY(user_name) REFERENCES Customer(user_name)
);



// Custom SQL
INSERT INTO `HairSalon`.`Styles`
(`style_name`,
`duration`,
`rates`)
VALUES
('pedicure', 2, 200);

INSERT INTO `HairSalon`.`Styles`
(`style_name`,
`duration`,
`rates`)
VALUES
('manicure', 2, 200);

INSERT INTO `HairSalon`.`Stylists`
(`stylist_name`,
`ratings`)
VALUES
('shaliniRC', -1);

INSERT INTO `HairSalon`.`Stylists`
(`stylist_name`,
`ratings`)
VALUES
('shankarRC', -1);

INSERT INTO `HairSalon`.`Customer`
(`fname`,
`lname`,
`email`,
`user_name`,
`password`,
`isadmin`)
VALUES
('shankar',
'shastri',
'shanrc@cisco.com',
'shanrc',
'shanrc',
true);

INSERT INTO `HairSalon`.`Customer`
(`fname`,
`lname`,
`email`,
`user_name`,
`password`,
`isadmin`)
VALUES
('shalini',
'shastri',
'shalini@cisco.com',
'shalini',
'shalini',
false);

INSERT INTO `HairSalon`.`CustomerBooking`
(`booking_id`,
`user_name`,
`stylist_name`,
`style_name`,
`booking_date`,
`stylist_rating`)
VALUES
('1', 'shanrc', 'shaliniRC', 'pedicure', '2018', -1);


INSERT INTO `HairSalon`.`CustomerBooking`
(`booking_id`,
`user_name`,
`stylist_name`,
`style_name`,
`booking_date`,
`stylist_rating`)
VALUES
('2', 'shanrc', 'shaliniRC', 'manicure', '2018', -1);
